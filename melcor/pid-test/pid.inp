
* ENV -----------> VOL
*  ^                |
*  |-------PID------|

**********************************************************************************************
*                                        MELGEN INPUT                                        *
**********************************************************************************************

*EOR* MELGEN

TITLE     PIDTEST

**********************************************************
*                       NGC INPUT                        *
**********************************************************

NCG001    N2    4
NCG002    O2    5

**********************************************************
*                        CV INPUT                        *
**********************************************************

CV00100   ENV  2  0  1
CV00101   0      -1
CV001A0   3
CV001A1   PVOL      101235.0
CV001A2   TATM      293.0
CV001A3   RHUM      0.6
CV001A4   MLFR.4    0.78
CV001A5   MLFR.5    0.22
CV001B1   0.0    0.0
CV001B2   50.0   100000.0

******

CV00200   VOL  2  0  1
CV00201   0      0
CV002A0   3
CV002A1   PVOL      101235.0
CV002A2   TATM      293.0
CV002A3   RHUM      0.6
CV002A4   MLFR.4    0.78
CV002A5   MLFR.5    0.22
CV002B1   0.0    0.0
CV002B2   50.0   5000.0

**********************************************************
*                        FL INPUT                        *
**********************************************************

FL00100   INLET  001   002   25.  25.
FL00101   1.0   1.0   1.0
FL00102	  3
FL001S0   1.0   1.0   1.0
FL001T0   2  001

CF00100   VEL-IN EQUALS 1 1.0
CF00110   0.0  10.0  TIME

******

FL00200   OUTLET  002  001   25.  25.
FL00201   1.0   1.0   1.0
FL00202	  3
FL002S0   1.0   1.0   1.0
FL002T0   2  004

**********************************************************
*                       PID control                      *
**********************************************************

CF00200 SETPOINT EQUALS 1 1.0
CF00210 0.0 101235.0 TIME

CF00300 ERROR ADD 2 1.0
CF00310 1.0 0.0 CVH-P.2
CF00311 -1.0 0.0 CFVALU.2

CF00400 VEL-OUT PID 1 1.0 
CF00403 0.05 0.02 0.0
CF00410 1.0 0.0 CFVALU.3


. * END MELGEN

**********************************************************************************************
*                                        MELCOR INPUT                                        *
**********************************************************************************************

*EOR* MELCOR

TITLE       PIDTEST

CPULEFT     100.
CPULIM      100000.
CYMESF      100 100

TEND 5e6

*           TIME        DTMAX     DTMIN    DTEDT     DTPLT     DTRST
TIME1       0.0         10.0      1.0      10.0     10.0     10.0
. * END MELCOR
